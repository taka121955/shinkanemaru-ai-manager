import streamlit as st
from datetime import datetime

st.set_page_config(page_title="📝 勝敗入力", layout="wide")
st.title("📝 勝敗入力フォーム")

# 仮のAI予想データ（今後はAI予想ロジックと連携予定）
ai_predictions = [
    {"競艇場": "唐津", "レース": "12R", "式別": "2連単", "投票": "1-5", "的中率": "84%", "金額": 100},
    {"競艇場": "若松", "レース": "11R", "式別": "3連単", "投票": "4-5-6", "的中率": "82%", "金額": 100},
    {"競艇場": "住之江", "レース": "10R", "式別": "単勝", "投票": "3", "的中率": "81%", "金額": 100},
    {"競艇場": "丸亀", "レース": "9R", "式別": "2連単", "投票": "2-1", "的中率": "80%", "金額": 100},
    {"競艇場": "平和島", "レース": "8R", "式別": "3連単", "投票": "3-2-6", "的中率": "79%", "金額": 100},
    {"競艇場": "福岡", "レース": "7R", "式別": "2連単", "投票": "1-2", "的中率": "77%", "金額": 100},
    {"競艇場": "常滑", "レース": "6R", "式別": "単勝", "投票": "4", "的中率": "76%", "金額": 100},
    {"競艇場": "芦屋", "レース": "5R", "式別": "3連単", "投票": "5-6-1", "的中率": "75%", "金額": 100},
    {"競艇場": "尼崎", "レース": "4R", "式別": "3連単", "投票": "6-4-3", "的中率": "74%", "金額": 100},
    {"競艇場": "津",   "レース": "3R", "式別": "単勝", "投票": "2", "的中率": "73%", "金額": 100},
]

st.markdown("🔢 各予想の結果を以下から入力してください。")

for i, pred in enumerate(ai_predictions, 1):
    with st.container():
        st.subheader(f"🔹 No.{i}：{pred['競艇場']} {pred['レース']}")
        col1, col2, col3, col4 = st.columns([2, 2, 2, 2])
        with col1:
            st.markdown(f"🎯 **式別：** {pred['式別']}")
        with col2:
            st.markdown(f"✏️ **投票：** {pred['投票']}")
        with col3:
            st.markdown(f"📊 **的中率：** {pred['的中率']}")
        with col4:
            st.markdown(f"💰 **賭け金：** {pred['金額']} 円")

        # 結果の選択（ユニークキーで制御）
        result = st.radio(
            f"📌 No.{i} の結果を選択",
            ["未入力", "的中", "不的中"],
            horizontal=True,
            key=f"結果{i}"
        )
        st.markdown("---")

if st.button("✅ すべて登録する"):
    st.success("🟢 登録が完了しました（仮処理）")
